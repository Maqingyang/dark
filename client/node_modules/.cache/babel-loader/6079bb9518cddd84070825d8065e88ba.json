{"ast":null,"code":"import _objectSpread from \"/Users/asurashen/Project/dark/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _regeneratorRuntime from \"/Users/asurashen/Project/dark/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/asurashen/Project/dark/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/asurashen/Project/dark/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/asurashen/Project/dark/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/asurashen/Project/dark/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/asurashen/Project/dark/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/asurashen/Project/dark/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/asurashen/Project/dark/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/asurashen/Project/dark/client/src/App.js\";\nimport React, { Component } from \"react\";\nimport getWeb3 from \"./getWeb3\";\nimport \"./App.css\";\nimport DarkContract from \"./contracts/Dark.json\";\nimport styles from './styles/main.module.css';\nimport 'antd/dist/antd.min.css';\nimport { SmileTwoTone } from '@ant-design/icons';\nimport { Layout, Space, Typography } from \"antd\";\nvar Title = Typography.Title;\nvar Header = Layout.Header,\n    Content = Layout.Content,\n    Footer = Layout.Footer;\n\nvar App = /*#__PURE__*/function (_Component) {\n  _inherits(App, _Component);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n    _this.state = {\n      allposts: {},\n      web3: null,\n      accounts: null,\n      contract: null,\n      newpost: '',\n      numOfPost: 0,\n      addComments: {},\n      newComments: {}\n    };\n\n    _this.handleSubmit = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(event) {\n        var _this$state, contract, newpost, accounts, allposts;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                event.preventDefault();\n                _this$state = _this.state, contract = _this$state.contract, newpost = _this$state.newpost, accounts = _this$state.accounts, allposts = _this$state.allposts;\n\n                if (!(newpost != '')) {\n                  _context.next = 9;\n                  break;\n                }\n\n                _context.next = 5;\n                return contract.methods.createNewPost(newpost).send({\n                  from: accounts[0]\n                });\n\n              case 5:\n                _this.setState({\n                  newpost: ''\n                });\n\n                _this.updatePost();\n\n                _context.next = 10;\n                break;\n\n              case 9:\n                alert('The post cannot be blank!');\n\n              case 10:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    _this.componentDidMount = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var web3, accounts, networkId, deployedNetwork, instance, addComments, i;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return getWeb3();\n\n            case 3:\n              web3 = _context2.sent;\n              _context2.next = 6;\n              return web3.eth.getAccounts();\n\n            case 6:\n              accounts = _context2.sent;\n              _context2.next = 9;\n              return web3.eth.net.getId();\n\n            case 9:\n              networkId = _context2.sent;\n              deployedNetwork = DarkContract.networks[networkId];\n              instance = new web3.eth.Contract(DarkContract.abi, deployedNetwork && deployedNetwork.address);\n              instance.options.address = \"0x04De95c299eAABAc2E25e06a7C1aA9b5Dd4b8A62\"; // Fill the contract address\n              // Set web3, accounts, and contract to the state, and then proceed with an\n              // example of interacting with the contract's methods.\n\n              _this.setState({\n                web3: web3,\n                accounts: accounts,\n                contract: instance\n              }, _this.updatePost);\n\n              addComments = _this.state.addComments;\n\n              for (i = _this.state.numOfPost - 1; i > -1; i--) {\n                addComments[i] = false;\n              }\n\n              _this.setState({\n                addComments: addComments\n              });\n\n              _context2.next = 23;\n              break;\n\n            case 19:\n              _context2.prev = 19;\n              _context2.t0 = _context2[\"catch\"](0);\n              // Catch any errors for any of the above operations.\n              alert(\"Failed to load web3, accounts, or contract. Check console for details.\");\n              console.error(_context2.t0);\n\n            case 23:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 19]]);\n    }));\n\n    _this.handleAccountId = function (account) {\n      var tmp = String(account);\n      return tmp.substring(0, 6) + \"...\" + tmp.substring(tmp.length - 4);\n    };\n\n    _this.handleTimestamp = function (timestamp) {\n      var date = new Date(timestamp * 1000);\n      var month = ('0' + (date.getMonth() + 1)).substr(-2);\n      var day = ('0' + date.getDate()).substr(-2);\n      var hour = ('0' + date.getHours()).substr(-2);\n      var minute = ('0' + date.getMinutes()).substr(-2);\n      var second = ('0' + date.getSeconds()).substr(-2);\n      return month + \"/\" + day + \"/\" + date.getFullYear() + \"  \" + hour + \":\" + minute + ':' + second;\n    };\n\n    _this.updatePost = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n      var contract, numPosts, allPosts, tmppost, i;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              contract = _this.state.contract;\n              _context3.next = 3;\n              return contract.methods.numOfPosts().call();\n\n            case 3:\n              numPosts = _context3.sent;\n\n              _this.setState({\n                numOfPost: numPosts\n              });\n\n              allPosts = {};\n              tmppost = {};\n              i = numPosts - 1;\n\n            case 8:\n              if (!(i > -1)) {\n                _context3.next = 20;\n                break;\n              }\n\n              _context3.next = 11;\n              return contract.methods.getPost(i).call();\n\n            case 11:\n              tmppost = _context3.sent;\n              tmppost = _objectSpread({}, tmppost);\n              _context3.next = 15;\n              return _this.getAllCommentsByPost(tmppost.postID);\n\n            case 15:\n              tmppost.comments = _context3.sent;\n              allPosts[tmppost.postID] = tmppost;\n\n            case 17:\n              i--;\n              _context3.next = 8;\n              break;\n\n            case 20:\n              _this.setState({\n                allposts: allPosts\n              });\n\n            case 21:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    _this.getAllCommentsByPost = /*#__PURE__*/function () {\n      var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(postID) {\n        var contract, header, comments, curr_comment;\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                contract = _this.state.contract;\n                _context4.next = 3;\n                return contract.methods.post2Comment(postID).call();\n\n              case 3:\n                header = _context4.sent;\n                comments = [];\n                curr_comment = 0;\n\n              case 6:\n                if (!(header != 0)) {\n                  _context4.next = 14;\n                  break;\n                }\n\n                _context4.next = 9;\n                return contract.methods.ptr2Comment(header).call();\n\n              case 9:\n                curr_comment = _context4.sent;\n                comments.push(curr_comment);\n                header = curr_comment.next;\n                _context4.next = 6;\n                break;\n\n              case 14:\n                return _context4.abrupt(\"return\", comments);\n\n              case 15:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4);\n      }));\n\n      return function (_x2) {\n        return _ref4.apply(this, arguments);\n      };\n    }();\n\n    _this.handleSubmitComment = /*#__PURE__*/function () {\n      var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(event, postID) {\n        var _this$state2, contract, accounts, newComments, addComments;\n\n        return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                event.preventDefault();\n                console.log(postID);\n                _this$state2 = _this.state, contract = _this$state2.contract, accounts = _this$state2.accounts, newComments = _this$state2.newComments, addComments = _this$state2.addComments;\n\n                if (!(newComments[postID] != '')) {\n                  _context5.next = 12;\n                  break;\n                }\n\n                _context5.next = 6;\n                return contract.methods.createNewComment(postID, newComments[postID]).send({\n                  from: accounts[0]\n                });\n\n              case 6:\n                _this.updatePost();\n\n                addComments[postID] = false;\n                newComments[postID] = '';\n\n                _this.setState({\n                  addComments: addComments,\n                  newComments: newComments\n                });\n\n                _context5.next = 13;\n                break;\n\n              case 12:\n                alert('The comment cannot be blank!');\n\n              case 13:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5);\n      }));\n\n      return function (_x3, _x4) {\n        return _ref5.apply(this, arguments);\n      };\n    }();\n\n    _this.handleChangeComment = function (event, postID) {\n      var newComments = _this.state.newComments;\n      newComments[postID] = event.target.value;\n\n      _this.setState({\n        newComments: newComments\n      });\n    };\n\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleAccountId = _this.handleAccountId.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleTimestamp = _this.handleTimestamp.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.getAllCommentsByPost = _this.getAllCommentsByPost.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"handleChange\",\n    value: function handleChange(event) {\n      this.setState({\n        newpost: event.target.value\n      });\n    }\n  }, {\n    key: \"render\",\n    // render() {\n    //   if (!this.state.web3) {\n    //     return <div>Loading Web3, accounts, and contract...</div>;\n    //   }\n    //   return (\n    //     <>\n    //       <Router>\n    //         <Routes>\n    //           <Route exact path='/' element={<MainPage />} />\n    //           <Route exact path='/posts/new' element={<NewPostPage />} />\n    //           <Route exact path='/posts/:postid' element={<PostDetailPage />} />\n    //           <Route exact path='/posts' element={<PostPage />} />\n    //         </Routes>\n    //       </Router>\n    //     </>\n    //   );\n    // }\n    value: function render() {\n      var _this2 = this;\n\n      if (!this.state.web3) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: styles.container,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 14\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 9\n          }\n        }, \"Loading Web3, accounts, and contract...\"));\n      }\n\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Layout, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Header, {\n        style: {\n          position: 'fixed',\n          zIndex: 1,\n          width: '100%'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Space, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(SmileTwoTone, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 13\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: styles.header1,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Title, {\n        italic: true,\n        strong: true,\n        level: 1,\n        color: \"white\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        style: {\n          color: 'White'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 17\n        }\n      }, \" RED\")))), /*#__PURE__*/React.createElement(Content, {\n        className: styles.container,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"form\", {\n        onSubmit: this.handleSubmit,\n        className: styles.formDiv,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: styles.inputLabel,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 15\n        }\n      }, \"Add A New Post\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: styles.userId,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        style: {\n          color: 'grey'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 15\n        }\n      }, \"User: \"), this.handleAccountId(this.state.accounts[0])), /*#__PURE__*/React.createElement(\"div\", {\n        className: styles.inputDivSecondLine,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"textarea\", {\n        placeholder: \"Post a message.\",\n        type: \"text\",\n        onChange: this.handleChange,\n        className: styles.inputDiv,\n        value: this.state.newpost,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 15\n        }\n      }), /*#__PURE__*/React.createElement(\"button\", {\n        className: styles.submitButton,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 15\n        }\n      }, \"Submit\"))), /*#__PURE__*/React.createElement(\"div\", {\n        className: styles.allpostContainer,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 11\n        }\n      }, Object.keys(this.state.allposts).sort(function (a, b) {\n        return b - a;\n      }).map(function (key, index) {\n        var post = _this2.state.allposts[key];\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: styles.postContainer,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: styles.id,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 19\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"span\", {\n          style: {\n            color: 'grey'\n          },\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 23\n          }\n        }, \"User: \"), _this2.handleAccountId(post.userID)), /*#__PURE__*/React.createElement(\"div\", {\n          style: {\n            color: 'grey'\n          },\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 21\n          }\n        }, _this2.handleTimestamp(post.timestamp))), /*#__PURE__*/React.createElement(\"div\", {\n          className: styles.postcontent,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 19\n          }\n        }, post.text), /*#__PURE__*/React.createElement(\"div\", {\n          onClick: function onClick() {\n            var addComments = _this2.state.addComments;\n            addComments[key] = !addComments[key];\n\n            _this2.setState(addComments);\n          },\n          className: styles.addCommentClick,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 19\n          }\n        }, \"Add Comments\"), _this2.state.addComments[key] ? /*#__PURE__*/React.createElement(\"div\", {\n          className: styles.addCommentInputDiv,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 50\n          }\n        }, /*#__PURE__*/React.createElement(\"form\", {\n          onSubmit: function onSubmit(event) {\n            return _this2.handleSubmitComment(event, key);\n          },\n          className: styles.commentFormDiv,\n          style: {\n            width: '700px'\n          },\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: styles.id,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 23\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(\"span\", {\n          style: {\n            color: 'grey'\n          },\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 27\n          }\n        }, \"User: \"), _this2.handleAccountId(_this2.state.accounts[0]))), /*#__PURE__*/React.createElement(\"div\", {\n          className: styles.inputDivSecondLine,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 23\n          }\n        }, /*#__PURE__*/React.createElement(\"textarea\", {\n          placeholder: \"Add your comments.\",\n          type: \"text\",\n          onChange: function onChange(event) {\n            return _this2.handleChangeComment(event, key);\n          },\n          className: styles.inputDiv,\n          value: _this2.state.newComments[key],\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 25\n          }\n        }), /*#__PURE__*/React.createElement(\"button\", {\n          className: styles.submitButton,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 25\n          }\n        }, \"Submit\")))) : null, /*#__PURE__*/React.createElement(\"div\", {\n          className: styles.commentContainer,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 19\n          }\n        }, post.comments.map(function (c) {\n          return /*#__PURE__*/React.createElement(\"div\", {\n            className: styles.commentDiv,\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 25\n            }\n          }, /*#__PURE__*/React.createElement(\"div\", {\n            className: styles.id,\n            style: {\n              paddingRight: 0\n            },\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 27\n            }\n          }, /*#__PURE__*/React.createElement(\"div\", {\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 29\n            }\n          }, /*#__PURE__*/React.createElement(\"span\", {\n            style: {\n              color: 'grey'\n            },\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 31\n            }\n          }, \"User: \"), _this2.handleAccountId(post.userID)), /*#__PURE__*/React.createElement(\"div\", {\n            style: {\n              color: 'grey'\n            },\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 29\n            }\n          }, _this2.handleTimestamp(c.timestamp))), /*#__PURE__*/React.createElement(\"div\", {\n            className: styles.comment,\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 248,\n              columnNumber: 27\n            }\n          }, c.text));\n        })));\n      })))));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/asurashen/Project/dark/client/src/App.js"],"names":["React","Component","getWeb3","DarkContract","styles","SmileTwoTone","Layout","Space","Typography","Title","Header","Content","Footer","App","props","state","allposts","web3","accounts","contract","newpost","numOfPost","addComments","newComments","handleSubmit","event","preventDefault","methods","createNewPost","send","from","setState","updatePost","alert","componentDidMount","eth","getAccounts","net","getId","networkId","deployedNetwork","networks","instance","Contract","abi","address","options","i","console","error","handleAccountId","account","tmp","String","substring","length","handleTimestamp","timestamp","date","Date","month","getMonth","substr","day","getDate","hour","getHours","minute","getMinutes","second","getSeconds","getFullYear","numOfPosts","call","numPosts","allPosts","tmppost","getPost","getAllCommentsByPost","postID","comments","post2Comment","header","curr_comment","ptr2Comment","push","next","handleSubmitComment","log","createNewComment","handleChangeComment","target","value","handleChange","bind","container","position","zIndex","width","header1","color","formDiv","inputLabel","userId","inputDivSecondLine","inputDiv","submitButton","allpostContainer","Object","keys","sort","a","b","map","key","index","post","postContainer","id","userID","postcontent","text","addCommentClick","addCommentInputDiv","commentFormDiv","commentContainer","c","commentDiv","paddingRight","comment"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport getWeb3 from \"./getWeb3\";\nimport \"./App.css\";\nimport DarkContract from \"./contracts/Dark.json\";\nimport styles from './styles/main.module.css'\nimport 'antd/dist/antd.min.css';\nimport {SmileTwoTone} from '@ant-design/icons';\nimport {Layout, Space, Typography} from \"antd\";\nconst { Title } = Typography;\nconst { Header, Content, Footer } = Layout;\n\nclass App extends Component {\n  state = { allposts: {}, web3: null, accounts: null, contract: null, newpost: '', numOfPost: 0, addComments: {}, newComments: {} };\n\n  constructor(props) {\n    super(props);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleAccountId = this.handleAccountId.bind(this);\n    this.handleTimestamp = this.handleTimestamp.bind(this);\n    this.getAllCommentsByPost = this.getAllCommentsByPost.bind(this);\n  }\n\n  handleChange(event) {\n    this.setState({ newpost: event.target.value })\n  }\n\n  handleSubmit = async (event) => {\n    event.preventDefault();\n    const { contract, newpost, accounts, allposts } = this.state;\n    if (newpost != '') {\n      await contract.methods.createNewPost(newpost).send({ from: accounts[0] });\n      this.setState({ newpost: '' });\n      this.updatePost();\n    } else {\n      alert('The post cannot be blank!');\n    }\n  }\n\n  componentDidMount = async () => {\n    try {\n      // Get network provider and web3 instance.\n      const web3 = await getWeb3();\n\n      // Use web3 to get the user's accounts.\n      const accounts = await web3.eth.getAccounts();\n      // Get the contract instance.\n      const networkId = await web3.eth.net.getId();\n      const deployedNetwork = DarkContract.networks[networkId];\n      const instance = new web3.eth.Contract(\n        DarkContract.abi,\n        deployedNetwork && deployedNetwork.address,\n      );\n      instance.options.address = \"0x04De95c299eAABAc2E25e06a7C1aA9b5Dd4b8A62\";// Fill the contract address\n\n      // Set web3, accounts, and contract to the state, and then proceed with an\n      // example of interacting with the contract's methods.\n      this.setState({ web3, accounts, contract: instance }, this.updatePost);\n\n      const { addComments } = this.state;\n\n      for (let i = this.state.numOfPost - 1; i > -1; i--) {\n        addComments[i] = false;\n      }\n      this.setState({ addComments: addComments })\n\n    } catch (error) {\n      // Catch any errors for any of the above operations.\n      alert(\n        `Failed to load web3, accounts, or contract. Check console for details.`,\n      );\n      console.error(error);\n    }\n  };\n\n  handleAccountId = (account) => {\n    let tmp = String(account);\n    return tmp.substring(0, 6) + \"...\" + tmp.substring(tmp.length - 4)\n  }\n\n  handleTimestamp = (timestamp) => {\n    let date = new Date(timestamp * 1000);\n    let month = ('0' + (date.getMonth() + 1)).substr(- 2)\n    let day = ('0' + date.getDate()).substr(-2)\n    let hour = ('0' + date.getHours()).substr(-2)\n    let minute = ('0' + date.getMinutes()).substr(-2)\n    let second = ('0' + date.getSeconds()).substr(-2)\n    return month +\n      \"/\" + day +\n      \"/\" + date.getFullYear() +\n      \"  \" + hour +\n      \":\" + minute + ':' + second\n  }\n\n  updatePost = async () => {\n    const { contract } = this.state;\n    const numPosts = await contract.methods.numOfPosts().call();\n    this.setState({ numOfPost: numPosts })\n    let allPosts = {};\n    let tmppost = {};\n    for (let i = numPosts - 1; i > -1; i--) {\n      tmppost = await contract.methods.getPost(i).call();\n      tmppost = { ...tmppost };\n      tmppost.comments = await this.getAllCommentsByPost(tmppost.postID);\n      allPosts[tmppost.postID] = tmppost;\n    }\n    this.setState({ allposts: allPosts });\n  };\n\n  getAllCommentsByPost = async (postID) => {\n    const { contract } = this.state;\n    let header = await contract.methods.post2Comment(postID).call();\n    let comments = [];\n    let curr_comment = 0;\n    while (header != 0) {\n      curr_comment = await contract.methods.ptr2Comment(header).call();\n      comments.push(curr_comment);\n      header = curr_comment.next;\n    }\n    return comments;\n  }\n  handleSubmitComment = async (event, postID) => {\n    event.preventDefault();\n    console.log(postID);\n    const { contract, accounts, newComments, addComments } = this.state;\n    if (newComments[postID] != '') {\n      await contract.methods.createNewComment(postID, newComments[postID]).send({ from: accounts[0] });\n      this.updatePost();\n      addComments[postID] = false;\n      newComments[postID] = '';\n      this.setState({ addComments: addComments, newComments: newComments })\n    } else {\n      alert('The comment cannot be blank!');\n    }\n  }\n\n  handleChangeComment = (event, postID) => {\n    const { newComments } = this.state;\n    newComments[postID] = event.target.value;\n    this.setState({ newComments: newComments })\n  }\n\n  // render() {\n  //   if (!this.state.web3) {\n  //     return <div>Loading Web3, accounts, and contract...</div>;\n  //   }\n  //   return (\n  //     <>\n  //       <Router>\n  //         <Routes>\n  //           <Route exact path='/' element={<MainPage />} />\n  //           <Route exact path='/posts/new' element={<NewPostPage />} />\n  //           <Route exact path='/posts/:postid' element={<PostDetailPage />} />\n  //           <Route exact path='/posts' element={<PostPage />} />\n  //         </Routes>\n  //       </Router>\n  //     </>\n  //   );\n  // }\n  render() {\n    if (!this.state.web3) {\n      return <div className={styles.container}>\n        <div>Loading Web3, accounts, and contract...</div>\n      </div >\n    }\n    return (\n      <>\n \n          <Layout>\n            <Header style={{\n            position: 'fixed',\n            zIndex: 1,\n            width: '100%',\n            \n          }} >\n            <Space>\n            <SmileTwoTone />\n            </Space>\n            <div className = {styles.header1}>\n              <Title italic strong level={1} color=\"white\">\n                <p style={{color:'White'}} > RED</p>\n             </Title>\n          </div>\n\n          </Header>\n\n          <Content className = {styles.container}>\n          <form onSubmit={this.handleSubmit} className={styles.formDiv}>\n            <label >\n              <span className={styles.inputLabel}>\n                Add A New Post\n              </span>\n            </label>\n            <div className={styles.userId}>\n              <span style={{ color: 'grey' }}>User: </span>{this.handleAccountId(this.state.accounts[0])}\n            </div>\n            <div className={styles.inputDivSecondLine}>\n              <textarea placeholder='Post a message.' type='text' onChange={this.handleChange} className={styles.inputDiv} value={this.state.newpost}>\n              </textarea>\n              <button className={styles.submitButton}>Submit</button>\n            </div>\n          </form>\n          <div className={styles.allpostContainer}>\n            {Object.keys(this.state.allposts).sort((a, b) => (b - a)).map((key, index) => {\n              const post = this.state.allposts[key];\n              return (\n                <div className={styles.postContainer}>\n                  <div className={styles.id}>\n                    <div>\n                      <span style={{ color: 'grey' }}>User: </span>{this.handleAccountId(post.userID)}\n                    </div>\n                    <div style={{ color: 'grey' }}>\n                      {this.handleTimestamp(post.timestamp)}\n                    </div>\n                  </div>\n                  <div className={styles.postcontent}>{post.text}</div>\n                  <div onClick={() => {\n                    const { addComments } = this.state;\n                    addComments[key] = !addComments[key]\n                    this.setState(addComments);\n                  }} className={styles.addCommentClick}>Add Comments</div>\n                  {this.state.addComments[key] ? <div className={styles.addCommentInputDiv}>\n                    <form onSubmit={(event) => this.handleSubmitComment(event, key)} className={styles.commentFormDiv} style={{ width: '700px' }}>\n                      <div className={styles.id}>\n                        <div>\n                          <span style={{ color: 'grey' }}>User: </span>{this.handleAccountId(this.state.accounts[0])}\n                        </div>\n                      </div>\n                      <div className={styles.inputDivSecondLine}>\n                        <textarea placeholder='Add your comments.' type='text' onChange={(event) => this.handleChangeComment(event, key)} className={styles.inputDiv} value={this.state.newComments[key]}>\n                        </textarea>\n                        <button className={styles.submitButton}>Submit</button>\n                      </div>\n                    </form>\n                  </div> : null}\n                  <div className={styles.commentContainer}>\n                    {post.comments.map((c) => {\n                      return (\n                        <div className={styles.commentDiv}>\n                          <div className={styles.id} style={{ paddingRight: 0 }}>\n                            <div>\n                              <span style={{ color: 'grey' }}>User: </span>{this.handleAccountId(post.userID)}\n                            </div>\n                            <div style={{ color: 'grey' }}>\n                              {this.handleTimestamp(c.timestamp)}\n                            </div>\n                          </div>\n                          <div className={styles.comment}>{c.text}</div>\n                        </div>);\n                    })}\n                  </div>\n                </div>\n              )\n            })}\n          </div>\n          </Content>\n          </Layout>\n         \n      </>\n    )\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}